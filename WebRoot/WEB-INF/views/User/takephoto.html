<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>takephoto.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <script type="text/javascript" src="Js/webcam.js"></script>

  </head>
  
  <body>
    <div id="my_camera" style="width:320px; height:240px;"></div>
    <script language="JavaScript">
    	var imageuri;
	    Webcam.set({
	        width: 320,
	        height: 300,
	        dest_width: 260,
	        dest_height: 180,
	        image_format: 'jpeg',
	        jpeg_quality: 90,
	        fps:    30, 
	        swfURL:   "Js/webcam.swf" 
	    }); 
    
        Webcam.attach( '#my_camera' );

        function take_snapshot() {
            Webcam.snap( function(data_uri) {
                 window.opener.document.getElementById('preview').innerHTML = '<img src="'+data_uri+'"/>';
                 //window.opener.document.getElementById('showimg').src = data_uri;
                 imageuri = data_uri;
                 Webcam.reset();
                 window.close();
            } );
            window.returnValue = imageuri;
        }
        function f(){
        	var a = [];
        	var i;
        	for (var i=0; i<3; i++){
        		a[i] = function() {
        			return i;
        		}
        	}
        	return a;
        }
    </script>
    <a href="javascript:void(take_snapshot())">Take Snapshot</a>
  </body>
</html>
